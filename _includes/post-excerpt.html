{% assign emptyarray = "" | split: "," %}
{% assign id = include.slug | default: include.id | default: "" %}
{% assign posts = site.posts | default: emptyarray %}

{% assign post = nil %}
{% for p in posts %}
  {% if p.slug == id %}
    {% assign post = p %}
  {% endif %}
{% endfor %}

<div class="post_excerpt">
  {% assign url = post.url | default: "" %}
  {% assign title = post.title | default: "" %}
  
  {% capture col1content %}
    {% include figure.html image=post.image, width=300px}
  {% endcapture %}
  
  {% capture col2content %}
  <p>
    {{ title }}
  </p>
  {% include post-info.html author=post.author member=post.member date=post.date tags=post.tags %}
  {% assign content = post.content | default: "" %}
    {{ content | strip_html | truncate: 500 }}
  {% endcapture %}
  
  {% include two-col.html col1=col1content col2=col2content %}
  
</div>
<a class="portrait" style="--width: {{ width }}px">
  {%- assign image = member.image | default: "" -%}
  <span class="portrait_image">
    <img
      src="{{ include.image }}"
      onerror="this.src = '{{ placeholder }}'; this.onerror = null;"
      loading="lazy"
      alt="{{ name | default: 'News Image' }}"
    >
  </span>